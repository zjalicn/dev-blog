---
import { CONTACT_INFO, SOCIAL_LINKS } from "@/contants/contact";
import { SITE_TITLE } from "@/contants/content";
import { NAV_LINKS } from "@/contants/nav";
import { ICONS } from "@/contants/icons";

const contactLinks: ContactLink[] = [
  {
    href: `mailto:${CONTACT_INFO.email}`,
    icon: ICONS.MAIL,
    text: CONTACT_INFO.email,
  },
  {
    href: SOCIAL_LINKS.linkedin,
    icon: ICONS.LINKEDIN,
    text: "LinkedIn",
    newTab: true,
  },
  {
    href: SOCIAL_LINKS.github,
    icon: ICONS.GITHUB,
    text: "GitHub",
    newTab: true,
  },
  {
    href: SOCIAL_LINKS.twitter,
    icon: ICONS.TWITTER,
    text: "Twitter",
    newTab: true,
  },
];

const today = new Date();
---

<footer class="text-white py-16 border-t border-neutral-800 max-w-5xl mx-auto">
  <div class="container">
    <!-- Contact Section -->
    <div class="mb-12 ml-16">
      <div class="grid md:grid-cols-2 gap-8 w-full mx-auto" data-animate>
        <!-- Left column: Contact Info -->
        <div
          class="flex flex-col items-center md:items-start text-center md:text-left gap-4"
        >
          <h3
            class="text-sm font-bold tracking-tight uppercase border-l-4 border-purple-400 pl-3 cursor-default"
          >
            Contact
          </h3>

          <div class="flex items-center gap-3 text-gray-300 pl-4">
            <ICONS.LOCATION className="w-5 h-5 text-purple-400" />
            <span>{CONTACT_INFO.address}</span>
          </div>

          <div class="flex items-center gap-3 text-gray-300 pl-4">
            <ICONS.MAIL className="w-5 h-5 text-purple-400" />
            <a
              href={`mailto:${CONTACT_INFO.email}`}
              class="hover:text-purple-400 transition-colors"
            >
              {CONTACT_INFO.email}
            </a>
          </div>

          <div class="flex flex-col gap-4 w-full">
            <h3
              class="text-sm font-bold tracking-tight uppercase border-l-4 border-purple-400 pl-3 cursor-default mt-4"
            >
              Connect
            </h3>
            <div class="flex gap-4 justify-center md:justify-start ml-3">
              {
                contactLinks
                  .filter((link) => link.icon !== ICONS.MAIL)
                  .map(({ href, icon: Icon, text }) => (
                    <a
                      href={href}
                      class="p-2 hover:text-purple-400 transition-colors"
                      target="_blank"
                      rel="noopener noreferrer"
                      title={text}
                    >
                      <Icon class="w-5 h-5" />
                      <span class="sr-only">{text}</span>
                    </a>
                  ))
              }
            </div>
          </div>
        </div>

        <!-- Right column: Site Navigation -->
        <div class="flex flex-col items-center md:items-start gap-6 ml-32">
          <h3
            class="text-sm font-bold tracking-tight uppercase border-l-4 border-purple-400 pl-3 cursor-default"
          >
            Navigation
          </h3>

          <nav class="flex flex-col gap-4">
            {
              NAV_LINKS.map((item) => (
                <a
                  href={item.path}
                  class="text-gray-300 hover:text-purple-400 transition-colors text-lg flex items-center gap-2"
                >
                  <span class="w-2 h-2 bg-purple-400 rounded-full opacity-0 transition-opacity duration-300 group-hover:opacity-100" />
                  {item.name}
                </a>
              ))
            }
          </nav>
        </div>
      </div>
    </div>

    <!-- Copyright -->
    <div class="text-center text-gray-500 text-sm p-16">
      &copy; {today.getFullYear()}
      {SITE_TITLE}
      <br />
      All rights reserved.
    </div>
  </div>
</footer>

<script>
  import { initializeObserver } from "@/utils/initializeObserver";
  initializeObserver();
</script>

<style>
  /* Animations for data-animate elements */
  [data-animate] {
    opacity: 0;
    transform: translateY(20px);
    transition:
      opacity 0.6s ease,
      transform 0.6s ease;
  }

  [data-animate].is-visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* Override the a::after hover effect */
  a::after {
    display: none;
  }
</style>
