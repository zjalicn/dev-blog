---
import type { CollectionEntry } from 'astro:content';
import BaseLayout from '../components/layout/BaseLayout.astro';
import FormattedDate from '../components/FormattedDate.astro';

type Props = CollectionEntry<'blog'>['data'];

const { title, description, pubDate, updatedDate, heroImage } = Astro.props;
---

<BaseLayout title={title} description={description}>
	<article class="container mx-auto px-4 py-16 mt-16">
		<div class="max-w-3xl mx-auto">
			{heroImage && (
				<div class="text-center mb-8">
					<div class="relative w-full max-w-3xl mx-auto">
						<img
							src={heroImage}
							alt=""
							class="rounded-xl mx-auto"
							style="max-width: 100%; height: auto; display: block; margin: 0 auto;"
						/>
					</div>
				</div>
			)}
			
			<div class="prose prose-invert mx-auto text-center">
				<div class="mb-8 pb-8 border-b border-neutral-800">
					<div class="text-neutral-400 mb-2">
						<FormattedDate date={pubDate} />
						{
							updatedDate && (
								<div class="italic">
									Last updated on <FormattedDate date={updatedDate} />
								</div>
							)
						}
					</div>
					<h1 class="text-4xl font-bold text-white mb-0">{title}</h1>
				</div>
				
				<div class="text-center">
					<slot />
				</div>
			</div>
		</div>
	</article>
</BaseLayout>

<style>
	/* Blog Content Styles */
	:global(.prose) {
		max-width: 720px;
		color: #d4d4d4;
	}
	:global(.prose h1),
	:global(.prose h2),
	:global(.prose h3),
	:global(.prose h4),
	:global(.prose h5),
	:global(.prose h6) {
		color: white;
		margin-top: 2em;
		margin-bottom: 1em;
		text-align: center;
	}
	:global(.prose p) {
		margin-bottom: 1.5em;
		text-align: center;
	}
	:global(.prose strong) {
		color: white;
	}
	:global(.prose a) {
		color: #a855f7;
		text-decoration: none;
	}
	:global(.prose a:hover) {
		text-decoration: underline;
	}
	:global(.prose code) {
		background-color: #262626;
		padding: 0.2em 0.4em;
		border-radius: 0.25em;
		font-size: 0.875em;
		color: #e5e5e5;
	}
	:global(.prose pre) {
		background-color: #262626;
		padding: 1.5em;
		border-radius: 0.5em;
		overflow-x: auto;
		text-align: left;
	}
	:global(.prose pre code) {
		background-color: transparent;
		padding: 0;
		border-radius: 0;
		color: inherit;
	}
	:global(.prose blockquote) {
		border-left: 4px solid #a855f7;
		padding-left: 1em;
		color: #a3a3a3;
		text-align: center;
		margin: 0 auto;
	}
	:global(.prose ul),
	:global(.prose ol) {
		padding-left: 1.5em;
		margin-bottom: 1.5em;
		text-align: left;
		max-width: fit-content;
		margin-left: auto;
		margin-right: auto;
	}
	:global(.prose li) {
		margin-bottom: 0.5em;
	}
	:global(.prose img) {
		border-radius: 0.5em;
		margin: 2em auto;
		display: block;
	}
	:global(.prose hr) {
		border-color: #262626;
		margin: 3em auto;
	}
	:global(.prose table) {
		margin-left: auto;
		margin-right: auto;
	}
</style>